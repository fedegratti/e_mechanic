<%= form_for(repair_order, html: { class: "form-horizontal" }) do |f| %>
  <% if repair_order.errors.any? %>
    <div class="alert alert-dismissable alert-danger">
      <button type="button" class="close" data-dismiss="alert">Ã—</button>
      <h2><%= pluralize(repair_order.errors.count, "error") %> prohibited this debt from being saved:</h2>
        <ul>
        <% repair_order.errors.full_messages.each do |message| %>
        <li><%= message %></li>
        <% end %>
      </ul>
      <%= notice %>
    </div>
  <% end %>

<div class="col-lg-6">
  <div class="well bs-component">
    <form class="form-horizontal">

      <div class="form-group">
        <%= f.label :order_number, class:'col-lg-2 control-label' %>
        <div class="col-lg-10">
          <%= f.number_field :order_number, class:'form-control', required:true %>
        </div>
      </div>

      <div class="form-group">
        <%= f.label t(:type), class: "col-sm-2 control-label" %>
        <div class="col-sm-10">
          <select id="type_select" name="repair_order[type]" class="form-control" required="true">
            <option value="Campaign"><%= t('campaign') %></option>
            <option value="Warranty"><%= t('warranty') %></option>
            <option value="Maintenance"><%= t('maintenance') %></option>
            <option value="Repair"><%= t('repair') %></option>
            <option value="Service"><%= t('service') %></option>
          </select>
        </div>
      </div>

      <div class="form-group">
        <%= f.label :car_id, class:'col-lg-2 control-label'  %>
        <div class="col-lg-10">

          <%= f.collection_select(:car_id, @cars, :id, :name,{},{ class: "form-control", required: true }) %>
        </div>
      </div>

      <div class="form-group">
        <%= f.label :description, class:'col-lg-2 control-label' %>
        <div class="col-lg-10">
          <%= f.text_area :description, class:'form-control', required:true, rows: 4 %>
        </div>
      </div>

      <div class="form-group">
        <%= f.label :ajax, class:'col-lg-2 control-label' %>
        <div class="checkbox">
          <label>
           <%= f.check_box :ajax %><span class="checkbox-material"></span>
          </label>
        </div>
      </div>

      <div id="claim_number" class="form-group">
        <%= f.label :claim_number, class:'col-lg-2 control-label' %>
        <div class="col-lg-10">
          <%= f.number_field :claim_number, class:'form-control' %>
        </div>
      </div>

      <div id="operation_number" class="form-group">
        <%= f.label :operation_number, class:'col-lg-2 control-label' %>
        <div class="col-lg-10">
          <%= f.text_field :operation_number, class:'form-control' %>
        </div>
      </div>

      <div class="form-group">
        <div class="col-lg-10 col-lg-offset-2">
          <%= f.submit class:"btn btn-primary" %>
        </div>
      </div>
    </form>
  </div>
</div>
<script type="text/javascript">
  $('#type_select').change(function(){
    toggleSelect(this);
  });
  function toggleSelect (selectEl) {
    if ($(selectEl).val() == "Campaign") {
      $('#claim_number').css('display', 'block');
      $('#operation_number').css('display', 'block');
    }
    else {
      $('#claim_number').css('display', 'none');
      $('#operation_number').css('display', 'none');
    }
  }
</script>
<% end %>
