<%= form_for(client, html: { class: "form-horizontal", role: "form"}) do |f| %>
  <% if client.errors.any? %>
    <div id="error_explanation">
      <button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
      <h2><%= pluralize(client.errors.count, "error") %> prohibited this client from being saved:</h2>

      <ul>
      <% client.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

<div class="col-lg-6">
  <div class="well bs-component">

    <div class="form-group">
      <%= f.label :first_name, class: "col-sm-2 control-label" %>
      <div class="col-sm-10">
        <%= f.text_field :first_name, class:'form-control' %>
      </div>
    </div>

    <div class="form-group">
      <%= f.label :last_name, class: "col-sm-2 control-label" %>
      <div class="col-sm-10">
        <%= f.text_field :last_name, class:'form-control' %>
      </div>
    </div>

    <div class="form-group">
      <%= f.label :telephone, class: "col-sm-2 control-label" %>
      <div class="col-sm-10">
        <%= f.number_field :telephone, class:'form-control' %>
      </div>
    </div>

    <div class="form-group">
      <%= f.label :address, class: "col-sm-2 control-label" %>
      <div class="col-sm-10">
        <%= f.text_field :address, class:'form-control' %>
      </div>
    </div>

    <div class="form-group">
      <%= f.label :city_id, class:'col-lg-2 control-label'  %>
      <div class="col-lg-10">
        <%= f.select :city_id, @cities, {}, { class: "form-control", required: true } %>
      </div>
    </div>

    <div class="form-group">
      <%= f.label :email, class: "col-sm-2 control-label" %>
      <div class="col-sm-10">
        <%= f.text_field :email, class:'form-control' %>
      </div>
    </div>

    <div class="form-group">
      <%= f.label :type, class: "col-sm-2 control-label" %>
      <div class="col-sm-10">
        <select id="type_select" class="form-control">
          <option value="#ci">Person</option>
          <option value="#ruc">Company</option>
        </select>
      </div>
    </div>

    <div id="ci" class="form-group">
      <%= f.label :ci, class: "col-sm-2 control-label" %>
      <div class="col-sm-10">
        <%= f.number_field :ci, class:'form-control' %>
      </div>
    </div>

    <div id="ruc" class="form-group" style="display:none;">
      <%= f.label :ruc, class: "col-sm-2 control-label" %>
      <div class="col-sm-10">
        <%= f.number_field :ruc, class:'form-control' %>
      </div>
    </div>

    <div class="form-group">
      <div class="col-sm-offset-2 col-sm-10">
        <%= f.submit class: "btn btn-primary" %>
      </div>
    </div>
  </div>
</div>
<script type="text/javascript">
  var toggled = false;
  $('#type_select').change(function(){
    console.log("asd");
    toggleSelect();
  });
  function toggleSelect () {
    if (toggled) {
      console.log("asd2")
      $('#ci').css('display', 'block');
      $('#ruc').css('display', 'none');
    }
    else {
      $('#ruc').css('display', 'block');
      $('#ci').css('display', 'none');
    }
    toggled = !toggled;
  }
</script>
<% end %>
